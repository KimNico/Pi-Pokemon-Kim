import styles from "./Pokemon.module.css";

export default function Pokemon ({name, image, attack, types, id}) {
    
    return <div className={styles.card_container}>
                <div className={styles.card_container_title}>
                    <span className={styles.card_title}>{name}</span>
                </div>
                <div className={styles.card_container1}>
                    
                {image && <img className={styles.card_img} src={image} alt={name}/>     }      
                
                </div>
            
            <div className={styles.card_container_types}>
                    {types &&
                        types.map((type, index) => {
                            return <span className={styles.types_name} key={index}>{type.name}</span>
                        })
                    }
            </div>
            <div className={styles.card_container_types}>
                <span className={styles.text_attack} >Attack: {attack}</span>
            </div>
    </div>
}

import { Link } from 'react-router-dom';
import { useEffect } from 'react';
import { useDispatch } from 'react-redux';
import { getPokemons, getTypes, loadingPokemonsSet } from "../../store/actions";
import './LandingPage.css';

export default function LandingPage() {


    let dispatch = useDispatch();    

    useEffect(() => {
        dispatch(loadingPokemonsSet(true));
        dispatch(getPokemons());
        dispatch(getTypes());
        // eslint-disable-next-line
    }, []); 


    return(  
    
        <div className="landing">
                <div>
                    <span className='landing_title'>Pokemon App</span>
                    <span className='landing_text'>
                            discover the feactures of your favorite pokemons
                    </span>
                </div>
                <div>
                    <Link to="/pokemons">
                        <button className="waitAnimate">Enter</button>
                    </Link>
                </div>
        </div>    )
    
}




import { useState,  useEffect } from "react";
import { useDispatch, useSelector} from "react-redux";
import { useNavigate } from 'react-router-dom';
import { loadingSearchSet, resetSearchPokemon, searchPokemon } from "../../store/actions/";
import lupa from "../../pictures/search-Pokemon.png";
import Pagination from "../Pagination/Pagination";
import style from "./SearchBar.module.css";


export default function SearchBar(){
    const [search, setSearch] = useState("");
    let dispatch = useDispatch();
    let navigate = useNavigate();

    const pokemonFound = useSelector((state) => state.pokemonFound);
    const searchingPokemon = useSelector((state) => state.searchingPokemon);
    const loadingPokemons = useSelector((state) => state.loadingPokemons);
    const notFound = useSelector((state) => state.notFound);

   

    useEffect(() =>{
        if (!notFound && searchingPokemon && !loadingPokemons)
        {   
            dispatch(resetSearchPokemon());     
            navigate(`/pokemons/${pokemonFound.id}`);
        }
        
    },[pokemonFound]);
    

     
    function onSubmit(e){
        e.preventDefault();      
        if (search.length > 0) {
            dispatch(loadingSearchSet());
            dispatch(searchPokemon(search.toLowerCase()));
            setSearch("");
        }
    }



    function onInputChange(e){
        e.preventDefault();
        setSearch(e.target.value);
    }

    return (
        <div className={style.search_bar_conteiner}>
            <div>
                {      <div className={style.search_bar_subconteiner}>
                            <form className={style.form_search_bar} onSubmit={onSubmit}>
                                <input className={style.searchbar_input_text} type="text" value={search} onChange={onInputChange} placeholder="Enter Pokemon to search"/>
                                <button className={style.searchbar_input_submit} type="submit" >Search</button>
                                <img className={style.searchbar_input_lupa} src={lupa} alt="lupa"/>
                            </form>
                        </div>

                    }

            </div>
            
            <div>
                <div className={style.search_bar_subconteiner}>
                    <Pagination />
                </div>
            </div>
        </div>
    );

}


import React, { useState } from "react";
import style from "./pokedex.module.css";
import { Card } from "../../components/Cards/Card";
import { Search } from "../../components/Search/Search";
import { useSelector } from "react-redux";
import { ordered, tipos } from "../../helpers/filtros";

export const Pokedex = () => {
  let pokemons = useSelector((store) => store.pokemons);
  const type = useSelector((store) => store.type);
  const order = useSelector((store) => store.order);

  if (type) pokemons = tipos(type, pokemons);
  if (order) pokemons = ordered(order, pokemons);

  const [page, setPage] = useState(0);

  const pagination = () => {
    if (pokemons.length) return pokemons.slice(page, page + 9);
    if (pokemons.info) return pokemons;
    return [];
  };

  const array = pagination();

  const nextPage = () => {
    if (pokemons.length > page + 9) {
      setPage(page + 9);
    }
  };

  const previusPage = () => {
    if (page > 0) {
      setPage(page - 9);
    }
  };

  return (
    <div className={style.container}>
      <Search />
      <div className="botones">
        <button onClick={previusPage} className="pages">
          &laquo; Previus
        </button>
        <button onClick={nextPage} className="pages">
          Next &raquo;
        </button>
      </div>
      <Card
        array={array}
        img={"https://c.tenor.com/F30e8arYkdYAAAAC/pokemon-spinning.gif"}
      />
    </div>
  );
};